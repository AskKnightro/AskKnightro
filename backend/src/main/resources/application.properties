# --- App ---
spring.application.name=AskKnightro
server.port=8080
logging.level.root=DEBUG

# --- DB / Flyway / Multipart ---
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.flyway.enabled=true
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=60MB

# --- Actuator ---
management.endpoints.web.base-path=/api/actuator
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=always

# --- Milvus VectorStore ---
spring.ai.vectorstore.milvus.client.host=standalone
spring.ai.vectorstore.milvus.client.port=19530
spring.ai.vectorstore.milvus.client.secure=false

spring.ai.vectorstore.milvus.database-name=default

spring.ai.vectorstore.milvus.id-field-name=doc_id
spring.ai.vectorstore.milvus.vector-field-name=embedding
spring.ai.vectorstore.milvus.text-field-name=content
spring.ai.vectorstore.milvus.metadata-field-name=metadata

spring.ai.vectorstore.milvus.embedding-dimension=384
spring.ai.vectorstore.milvus.index-type=IVF_FLAT
spring.ai.vectorstore.milvus.metric-type=COSINE
spring.ai.vectorstore.milvus.initialize-schema=true
spring.ai.vectorstore.milvus.auto-id=false

# --- Ollama Embeddings ---
spring.ai.ollama.base-url=http://ollama:11434
spring.ai.ollama.embedding.model=all-minilm
spring.ai.ollama.embedding.enabled=true

# --- OpenAI (chat only) ---
spring.ai.openai.api-key=${OPENAI_API_KEY}
spring.ai.openai.chat.options.model=gpt-4o-mini
spring.ai.openai.restclient.connect-timeout=20s
spring.ai.openai.restclient.read-timeout=60s
spring.ai.retry.max-attempts=3
spring.ai.retry.backoff.initial-interval=1000
spring.ai.openai.embedding.enabled=false

spring.autoconfigure.exclude=org.springframework.ai.model.openai.autoconfigure.OpenAiEmbeddingAutoConfiguration

